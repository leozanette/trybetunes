{"version":3,"sources":["services/userAPI.js","components/Loading.js","pages/Login.js","services/searchAlbumsAPI.js","pages/Search.js","services/musicsAPI.js","services/favoriteSongsAPI.js","components/MusicCard.js","pages/Album.js","pages/Favorites.js","pages/Profile.js","pages/ProfileEdit.js","pages/NotFound.js","components/Content.js","components/Header.js","App.js","index.js"],"names":["USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","createUser","name","email","image","description","Loading","React","Component","Login","onInputChange","event","setState","target","value","clickLogin","login","state","preventDefault","loading","a","redirect","this","to","htmlFor","type","onChange","placeholder","disabled","length","onClick","searchAlbumsAPI","artist","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","map","artistId","artistName","collectionId","collectionName","collectionPrice","artworkUrl100","releaseDate","trackCount","Search","onButtonClick","search","artista","clicou","albuns","resultado","className","album","index","src","alt","getMusics","id","request","requestJson","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","addSong","song","MusicCard","favoriteSong","object","props","checked","pegarFavoritas","trackId","favoritas","some","trackName","previewUrl","controls","kind","Album","pegarMusicas","match","params","result","filter","songs","musica","Favorites","Profile","ProfileEdit","NotFound","Content","path","exact","component","Header","usuario","pegarUsuario","console","log","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd831c28.chunk.js","sourcesContent":["const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React from 'react';\n\nclass Loading extends React.Component {\n  render() {\n    return <p>Carregando...</p>;\n  }\n}\n\nexport default Loading;\n","import React from 'react';\n// import { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\nimport Loading from '../components/Loading';\nimport './Login.css';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      login: '',\n      loading: true,\n      redirect: false,\n    };\n  }\n\n  onInputChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  }\n\n  clickLogin = (event) => {\n    const { login } = this.state;\n    event.preventDefault();\n    this.setState({ loading: false },\n      async () => {\n        await createUser({ name: login });\n        this.setState({\n          loading: true,\n          redirect: true });\n      });\n  }\n\n  render() {\n    const { login, loading, redirect } = this.state;\n    const minLength = 3;\n    if (redirect) return (<Redirect to=\"/trybetunes/search\" />);\n    return (\n      <div data-testid=\"page-login\">\n        { loading\n          ? (\n            <form>\n              <label htmlFor=\"login\">\n                Nome completo:\n                <input\n                  type=\"text\"\n                  name=\"login\"\n                  data-testid=\"login-name-input\"\n                  value={ login }\n                  onChange={ this.onInputChange }\n                  placeholder=\"digite seu nome...\"\n                />\n              </label>\n              <button\n                disabled={ login.length < minLength }\n                type=\"submit\"\n                data-testid=\"login-submit-button\"\n                onClick={ this.clickLogin }\n              >\n                Entrar\n\n              </button>\n            </form>\n          )\n          : <Loading />}\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      search: '',\n      artista: '',\n      resultado: [],\n      clicou: false,\n    };\n  }\n\n  onInputChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  }\n\n  onButtonClick = (event) => {\n    event.preventDefault();\n    const { search } = this.state;\n    this.setState(\n      { artista: search, clicou: true },\n      async () => {\n        const albuns = await searchAlbumsAPI(search);\n        this.setState(\n          {\n            search: '',\n            resultado: [...albuns],\n\n          },\n        );\n      },\n    );\n  }\n\n  render() {\n    const { search, artista, clicou, resultado } = this.state;\n    const minLength = 2;\n    return (\n      <div data-testid=\"page-search\">\n        {/* <Header /> */}\n        <form>\n\n          <input\n            placeholder=\"Nome do Artista\"\n            data-testid=\"search-artist-input\"\n            type=\"text\"\n            name=\"search\"\n            value={ search }\n            onChange={ this.onInputChange }\n          />\n          <button\n            type=\"submit\"\n            data-testid=\"search-artist-button\"\n            disabled={ search.length < minLength }\n            onClick={ this.onButtonClick }\n          >\n            Procurar\n\n          </button>\n        </form>\n        <div>\n          {clicou && (\n            <div>\n              { resultado.length === 0 ? <h3>Nenhum álbum foi encontrado</h3>\n                : (\n                  <div>\n                    <h3>{ `Resultado de álbuns de: ${artista}`}</h3>\n                    <section className=\"cards\">\n                      { resultado.map((album, index) => (\n                        <div key={ index } className=\"card\">\n                          <Link\n                            to={ `/trybetunes/album/${album.collectionId}` }\n                            data-testid={ `link-to-album-${album.collectionId}` }\n                            album={ album.collectionId }\n                          >\n                            <img\n                              src={ album.artworkUrl100 }\n                              alt={ album.collectionName }\n                            />\n                          </Link>\n                          <p>{ album.collectionName }</p>\n                          <p>{ album.artistName}</p>\n                        </div>\n                      )) }\n                    </section>\n                  </div>\n                )}\n            </div>\n          )}\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { addSong, getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport Loading from './Loading';\n\nclass MusicCard extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      checked: false,\n      // favoritas: [],\n    };\n  }\n\n  componentDidMount() {\n    this.pegarFavoritas();\n  }\n\n  favoriteSong = () => {\n    const { object } = this.props;\n    this.setState({ loading: false },\n      async () => {\n        await addSong(object);\n        this.setState(() => ({\n          loading: true,\n          checked: true,\n        }));\n      });\n  }\n\n  // notFavoriteSong = () => {\n  //   const { object } = this.props;\n  //   this.setState({ loading: false },\n  //     async () => {\n  //       await removeSong(object);\n  //       this.setState((prevState) => ({\n  //         loading: true,\n  //         checked: !prevState.checked,\n  //       }));\n  //     });\n  // }\n\n  pegarFavoritas = async () => {\n    const { trackId } = this.props;\n    const favoritas = await getFavoriteSongs();\n    this.setState({ checked: favoritas.some((a) => a.trackId === trackId) });\n  }\n\n  render() {\n    const { trackName, previewUrl, trackId } = this.props;\n    const { loading, checked } = this.state;\n    return (\n      <div>\n        { loading ? (\n\n          <li>\n            <p>{ trackName }</p>\n            <audio data-testid=\"audio-component\" src={ `${previewUrl}` } controls>\n              <track kind=\"captions\" />\n              O seu navegador não suporta o elemento\n              {' '}\n              {' '}\n              <code>audio</code>\n              .\n            </audio>\n            <input\n              data-testid={ `checkbox-music-${trackId}` }\n              type=\"checkbox\"\n              name={ trackName }\n              checked={ checked }\n              onChange={ this.favoriteSong }\n            />\n\n          </li>\n        ) : <Loading /> }\n      </div>\n    );\n  }\n}\n\nMusicCard.propTypes = {\n  trackName: PropTypes.string.isRequired,\n  previewUrl: PropTypes.string.isRequired,\n  trackId: PropTypes.string.isRequired,\n  object: PropTypes.string.isRequired,\n};\n\nexport default MusicCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n// import { Link } from 'react-router-dom';\n// import Header from '../components/Header';\nimport getMusics from '../services/musicsAPI';\nimport MusicCard from '../components/MusicCard';\n\nclass Album extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      album: {},\n      songs: [],\n    };\n  }\n\n  componentDidMount() {\n    this.pegarMusicas();\n  }\n\n   pegarMusicas = async () => {\n     const { match: { params: { id } } } = this.props;\n     const result = await getMusics(id);\n     const song = result.filter((a) => a.kind === 'song');\n     this.setState({\n       album: result[0],\n       songs: song,\n     });\n   }\n\n   render() {\n     const { album: { artistName, collectionName } } = this.state;\n     const { songs } = this.state;\n     return (\n       <div data-testid=\"page-album\">\n         {/* <Header /> */}\n         <div>\n           <h3 data-testid=\"album-name\">{ collectionName }</h3>\n           <h5 data-testid=\"artist-name\">{artistName }</h5>\n           <ul>\n             { songs.map((musica) => (\n               <MusicCard\n                 key={ musica.trackId }\n                 trackId={ musica.trackId }\n                 trackName={ musica.trackName }\n                 previewUrl={ musica.previewUrl }\n                 object={ musica }\n               />\n\n             )) }\n           </ul>\n         </div>\n       </div>\n     );\n   }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.string.isRequired,\n};\n\nexport default Album;\n","import React from 'react';\n// import { Link } from 'react-router-dom';\n// import Header from '../components/Header';\n\nclass Favorites extends React.Component {\n  render() {\n    return (\n\n      <div data-testid=\"page-favorites\">\n        {/* <Header /> */}\n        <h1>Favorites</h1>\n      </div>\n    );\n  }\n}\n\nexport default Favorites;\n","import React from 'react';\n// import { Link } from 'react-router-dom';\n// import Header from '../components/Header';\n\nclass Profile extends React.Component {\n  render() {\n    return (\n\n      <div data-testid=\"page-profile\">\n        {/* <Header /> */}\n        <h1>Profile</h1>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n","import React from 'react';\n// import { Link } from 'react-router-dom';\n// import Header from '../components/Header';\n\nclass ProfileEdit extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile-edit\">\n        {/* <Header /> */}\n        <h1>Profile Edit</h1>\n      </div>\n    );\n  }\n}\n\nexport default ProfileEdit;\n","import React from 'react';\n// import { Link } from 'react-router-dom';\n\nclass NotFound extends React.Component {\n  render() {\n    return (\n\n      <div data-testid=\"page-not-found\">\n        <h1>notfind</h1>\n      </div>\n    );\n  }\n}\n\nexport default NotFound;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Login from '../pages/Login';\nimport Search from '../pages/Search';\nimport Album from '../pages/Album';\nimport Favorites from '../pages/Favorites';\nimport Profile from '../pages/Profile';\nimport ProfileEdit from '../pages/ProfileEdit';\nimport NotFound from '../pages/NotFound';\n\nclass Content extends React.Component {\n  render() {\n    return (\n      <main className=\"content\">\n        <Switch>\n          <Route path=\"/trybetunes/\" exact component={ Login } />\n          <Route path=\"/trybetunes/search\" component={ Search } />\n          <Route path=\"/trybetunes/album/:id\" component={ Album } />\n          <Route path=\"/trybetunes/profile/edit\" component={ ProfileEdit } />\n          <Route path=\"/trybetunes/profile\" component={ Profile } />\n          <Route path=\"/trybetunes/favorites\" component={ Favorites } />\n          <Route path=\"*\" component={ NotFound } />\n        </Switch>\n      </main>\n    );\n  }\n}\n\nexport default Content;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getUser } from '../services/userAPI';\nimport Loading from './Loading';\n\nclass Header extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      usuario: {},\n      loading: false,\n    };\n  }\n\n  componentDidMount() {\n    this.pegarUsuario();\n  }\n\n  componentDidUpdate() {\n    this.pegarUsuario();\n  }\n\n  async pegarUsuario() {\n    const user = await getUser();\n    console.log(user);\n    this.setState({\n      usuario: user,\n      loading: true,\n    });\n  }\n\n  render() {\n    const { usuario, loading } = this.state;\n    return (\n\n      <header data-testid=\"header-component\">\n        <div>\n          <h1>TrybeTunes</h1>\n        </div>\n        <div>\n\n          <h2 data-testid=\"header-user-name\">{ loading ? usuario.name : <Loading /> }</h2>\n          <nav>\n            <Link to=\"/trybetunes/search\" data-testid=\"link-to-search\">Pesquisar</Link>\n            <Link\n              to=\"/trybetunes/favorites\"\n              data-testid=\"link-to-favorites\"\n            >\n              Favoritas\n\n            </Link>\n            <Link to=\"/trybetunes/profile\" data-testid=\"link-to-profile\">Perfil</Link>\n          </nav>\n        </div>\n\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport Content from './components/Content';\nimport Header from './components/Header';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Header />\n        <Content />\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}